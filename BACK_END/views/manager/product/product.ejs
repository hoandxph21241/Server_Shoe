<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <style>
        .brand-logos img {
            width: 80px;
            height: auto;
            margin: 0 10px;
            /* border: grey 1px solid; */
            border-radius: 20px;
        }

        .product-card {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            display: grid;
            grid-template-areas:
                "image title action"
                "image category action"
                "image price price"
                "sales sales sales";
            gap: 10px;
        }

        .product-card img {
            grid-area: image;
            width: 80px;
            /* Fixed width */
            height: 80px;
            /* Fixed height */
            object-fit: cover;
            border-radius: 5px;
        }

        .product-card .title {
            grid-area: title;
            font-size: 1.1rem;
            font-weight: bold;
        }

        .product-card .category {
            grid-area: category;
            color: grey;
        }

        .product-card .price {
            grid-area: price;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .product-card .sales {
            grid-area: sales;
            border-top: 1px solid #ddd;
            padding-top: 10px;
        }

        .product-card .sales .card-body {
            display: flex;
            justify-content: space-between;
        }

        .product-card .sales .card-body div {
            display: flex;
            flex-direction: column;
            align-items: start;
        }

        .product-card .sales .card-body div span {
            font-size: 0.9rem;
        }

        .product-card .action {
            grid-area: action;
            justify-self: end;
            align-self: start;
        }

        .pagination-custom {
            justify-content: center;
        }

        .sales.card {
            margin-bottom: 8px;
        }

        .card .progress {
            height: 6px;
        }

        .pagination .page-item {
            margin-right: 5px;
        }

        .action-menu {
            display: none;
            position: absolute;
            background-color: #fff;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .action-menu button {
            display: block;
            width: 100%;
            border: none;
            background: none;
            padding: 10px 20px;
            text-align: left;
        }

        .action-menu button:hover {
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <%- include('../../inc/top.ejs') %>
        <div class="container-fluid">
            <div class="row d-flex align-items-center my-3">
                <div class="col-auto">
                    <h3>Brands</h3>
                </div>
                <div class="col-auto ms-2">
                    <button class="btn btn-dark" style="border-radius: 50px;" data-toggle="modal"
                        data-target="#hideModalBrands">Add</button>
                </div>
                <div class="col flex-grow-1"></div>
                <div class="col-auto">
                    <a href="#">Xem tất cả</a>
                </div>
            </div>
            
            <div class="brand-logos mb-3 d-flex justify-content-between">
                <img src="/images/adidas.png" alt="Nike">
                <img src="/images/chanel.png" alt="Puma">
                <img src="/images/ck.png" alt="Reebok">
                <img src="/images/gucci.png" alt="New Balance">
                <img src="/images/guess.png" alt="Fila">
                <img src="/images/D&G.png" alt="Adidas">
            </div>
            <div class="d-flex justify-content-between align-items-center my-3">
                <h2>All Products</h2>
                <a href="/manager/addproduct" class="btn btn-dark">Add New Product</a>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-4">
                <!-- Repeat this card for each product -->
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-auto">
                                    <img src="/images/Rectangle.png" alt="">
                                </div>
                                <div class="col">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="card-title m-0">Adidas Ultra boost</h5>
                                        <div class="action position-relative">
                                            <button class="btn btn-light" id="actionButton">...</button>
                                            <div class="action-menu" id="actionMenu">
                                                <button class="action-hide" data-toggle="modal"
                                                    data-target="#hideModal">Ẩn</button>
                                                <form action="/manager/edit-product"><button
                                                        class="action-edit">Sửa</button></form>
                                            </div>
                                        </div>
                                    </div>
                                    <span>Sneaker</span>
                                    <p class="card-text fw-bold">$800.40</p>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-body">
                                    <div class="mb-2 d-flex justify-content-between align-items-center">
                                        <small class="text-muted">Sale</small>
                                        <p class="m-0">10000</p>
                                    </div>
                                    <hr class="my-2">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <small class="text-muted">Remaining Products</small>
                                        <div class="d-flex align-items-center">
                                            <div class="ms-2 me-2" style="width: 50px;">
                                                <div class="progress">
                                                    <div class="progress-bar bg-warning" role="progressbar"
                                                        style="width: 50%" aria-valuenow="1269" aria-valuemin="0"
                                                        aria-valuemax="5000"></div>
                                                </div>
                                            </div>
                                            <p class="m-0">10000</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Modal sửa sản phầm-->
                <div class="modal fade" id="hideModal" tabindex="-1" role="dialog" aria-labelledby="hideModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="hideModalLabel">Ẩn sản phẩm</h5>
                            </div>
                            <div class="modal-body">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent lobortis velit mollis
                                erat pellentesque, eu varius neque scelerisque. Curabitur sem ligula, sodales in est
                                eget, faucibus vehicula ligula. Suspendisse cursus cursus nisl, a mattis dolor rhoncus
                                in. Integer quis sapien sollicitudin, semper tortor vel, porttitor justo.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary"
                                    style="background-color: #4340da;">Lưu</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of card repeat -->

                <!-- Modal thêm brands -->
                <div class="modal fade" id="hideModalBrands" tabindex="-1" role="dialog"
                    aria-labelledby="hideModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="hideModalLabel">Thêm hãng</h5>
                                <button type="button" class="close btn" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group" style="margin-bottom: 10px;">
                                        <label for="imageUpload" class="form-label">Image:</label>
                                        <input type="file" class="form-control" id="imageUpload" accept="image/*">
                                    </div>
                                    <div class="text-center">
                                        <img id="imagePreview" src="/images/image_brand.png" alt="Image preview"
                                            class="img-fluid" style="display: none; border-radius: 20px;">
                                    </div>
                                    <div class=" form-group" style="margin-top: 10px;">
                                        <label for="brandName">Tên hãng</label>
                                        <input type="text" class="form-control" id="brandName" placeholder="Tên hãng">
                                    </div>
                                </form>

                            </div>
                            <div class="modal-footer ">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary">Lưu</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Kết thúc modal thêm brands -->
            </div>
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-start">
                    <li class="page-item"><a class="page-link text-dark " href="#">1</a></li>
                    <li class="page-item"><a class="page-link text-dark" href="#">2</a></li>
                    <li class="page-item"><a class="page-link text-dark" href="#">3</a></li>

                    <script>
                        document.addEventListener('DOMContentLoaded', (event) => {
                            const actionButton = document.getElementById('actionButton');
                            const actionMenu = document.getElementById('actionMenu');
                            const imageUpload = document.getElementById('imageUpload');
                            const imagePreview = document.getElementById('imagePreview');

                            actionButton.addEventListener('click', () => {
                                actionMenu.style.display = actionMenu.style.display === 'block' ? 'none' : 'block';
                            });

                            document.addEventListener('click', (event) => {
                                if (!actionButton.contains(event.target) && !actionMenu.contains(event.target)) {
                                    actionMenu.style.display = 'none';
                                }
                            });


                            imageUpload.addEventListener('change', (event) => {
                                const file = event.target.files[0];
                                if (file) {
                                    const reader = new FileReader();
                                    reader.onload = (e) => {
                                        imagePreview.src = e.target.result;
                                        imagePreview.style.display = 'block'
                                    };
                                    reader.readAsDataURL(file);
                                } else {
                                    // Display a default image when no file is selected
                                    imagePreview.style.display = 'none';

                                }
                            });
                        });


                    </script>
                    <%- include('../../inc/end.ejs') %>